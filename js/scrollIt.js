(function(a){var c="ScrollIt",d="1.0.3";var b={upKey:38,downKey:40,easing:"linear",scrollTime:600,activeClass:"active",onPageChange:null,topOffset:0};a.scrollIt=function(j){var k=a.extend(b,j),e=0,h=a("[data-scroll-index]:last").attr("data-scroll-index");var i=function(n){if(n<0||n>h){return}var o=a("[data-scroll-index="+n+"]").offset().top+k.topOffset+1;a("html,body").animate({scrollTop:o,easing:k.easing},k.scrollTime)};var f=function(n){var o=a(n.target).closest("[data-scroll-nav]").attr("data-scroll-nav")||a(n.target).closest("[data-scroll-goto]").attr("data-scroll-goto");i(parseInt(o))};var g=function(n){var o=n.which;if(a("html,body").is(":animated")&&(o==k.upKey||o==k.downKey)){return false}if(o==k.upKey&&e>0){i(parseInt(e)-1);return false}else{if(o==k.downKey&&e<h){i(parseInt(e)+1);return false}}return true};var l=function(n){if(k.onPageChange&&n&&(e!=n)){k.onPageChange(n)}e=n;a("[data-scroll-nav]").removeClass(k.activeClass);a("[data-scroll-nav="+n+"]").addClass(k.activeClass)};var m=function(){var p=a(window).scrollTop();var o=a("[data-scroll-index]").filter(function(r,q){return p>=a(q).offset().top+k.topOffset&&p<a(q).offset().top+(k.topOffset)+a(q).outerHeight()});var n=o.first().attr("data-scroll-index");l(n)};a(window).on("scroll",m).scroll();a(window).on("keydown",g);a("body").on("click","[data-scroll-nav], [data-scroll-goto]",function(n){n.preventDefault();f(n)})}}(jQuery));